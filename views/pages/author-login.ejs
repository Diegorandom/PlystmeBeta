<!DOCTYPE html>
<html>
	<head>
		<% include ../partials/header.ejs  %>
           <% include ../partials/footer.ejs  %>
		<!--[if lt IE 10]>
			<link rel="stylesheet" type="text/css" href="style/ie-9.css" />
		<![endif]-->		
		<!--[if lt IE 9]>
		    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
		    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	    <![endif]-->
	</head>
	<body class="page-login">

        
	<!-- THE HEADER -->
	<header>
		<% include ../pages/navbar.ejs %>
	</header>	


	<!-- MAIN CONTENT -->
	<div id="content-block">
		<div class="container be-detail-container">
			<div class="row">
				<div class="col-xs-12 col-md-4 left-feild">
					<div class="be-user-block style-3">
						<div class="be-user-detail">
							<a class="be-ava-user style-2" >
								<img src="<%=imagen_url%>" style="border-radius:5px; "  alt=""> 
							</a>
							<!-- <a class="be-ava-left btn color-1 size-2 hover-1" href="author-edit.ejs"><i class="fa fa-pencil"></i>Edit</a 
							<div class="color-4 size-2 hover-7">
								
							</div>-->
							<p class="be-use-name"><%= nombre %></p>
							<div class="be-user-info">
								<%= pais%>
							</div>
							<!-- 
							<div class="be-user-social">							
								<a class="social-btn color-1" href="page1.ejs"><i class="fa fa-facebook"></i></a>
								<a class="social-btn color-2" href="page1.ejs"><i class="fa fa-twitter"></i></a>
								<a class="social-btn color-3" href="page1.ejs"><i class="fa fa-google-plus"></i></a>
								<a class="social-btn color-4" href="page1.ejs"><i class="fa fa-pinterest-p"></i></a>
								<a class="social-btn color-5" href="page1.ejs"><i class="fa fa-instagram"></i></a>
								<a class="social-btn color-6" href="page1.ejs"><i class="fa fa-linkedin"></i></a>
							</div> -->
							<!-- <a class="be-user-site" href="http://www.phoenix.cool"><i class="fa fa-link"></i> www.phoenix.cool</a> -->
						</div>
						<div class="be-user-statistic">
							
							<div class="stat-row clearfix"><i class="stat-icon icon-followers-b"></i>Spotify Followers<span class="stat-counter"><%=followers%></span></div>
							
						</div>
					</div>
                    <div class="be-desc-author">
							<div class="be-desc-label">About our Recommendations</div>
							<div class="clearfix"></div>
							<div class="be-desc-text">
				            The recommendations are created through a careful search inside Spotify Database. <br>
                                <br/>
                            For a starting point, we take a look at the universe of songs surrounding your <em>Seed Tracks</em>. From there we now look for songs with opposite features from those measured at your <em>top tracks</em> list.<br>
                                <br/>
                            To know what you wouldn't normally listen to, we first study what you like. At the <em><%=nombre%>'s Music Data</em> section you can find more about our algorithm.<br>
                                <br/>
                            This melting pot creates conditions for you to discover new music, searching where no other engine searches. <a href="about-us">More info...</a>   
							</div>
						</div>
					
					<!-- <a class="btn full color-1 size-1 hover-1"><i class="fa fa-plus"></i>add sections</a>	 -->									
				</div>
            
				<div class="col-xs-12 col-md-8">
                    <div class="tab-wrapper style-1">
                        <div class="tab-nav-wrapper">
                            <div  class="nav-tab  clearfix">
                                
                                <div class="nav-tab-item ">
                                    
                                    <span>Recommendations</span>
                                </div>
                                <div class="nav-tab-item ">
                                    <span><%=nombre%>'s Music Data</span>
                                </div>
                                <div class="nav-tab-item active">
                                    <span>Seed Tracks</span>
                                </div> 
                                
                                <!-- <div class="nav-tab-item ">
                                    <span>Collections</span>
                                </div>   -->                                                             
                            </div>
                        </div>
                        
                        
                        
                        <div class="tabs-content clearfix">
                            
                            
                            <div class="tab-info "> 
                                
                        <div class="col-lg-12">
                            
                            <h2 style="text-align:center; font-family: 'Josefin Slab', serif;">Recommendations </h2>
                            
                        </div> 
                                
                        
                        <div class="col-lg-12 centro" style=" text-align: center;" >
                            
                             <div class=" btn centro " style="text-align: center;">
                                <form  method="post" action="/create/playlist" id="createP" class="centro" style="text-align: center;">
                                  <input class="form-control color-5 size-2 hover-1 centro" placeholder="Name and Press Enter to Add Playlist to Spotify" style="width:265px; font-size: 80%; text-align: center;" name="playlistname">
                                </form>
                            </div>
                            <!-- 
                                <div class=" btn btn-share color-5 size-2 hover-1 ">
                               <a ><i class="fa fa-share-alt"></i>Share Playlist</a>        
                                <div class="share-buttons">
                                        <a class="color-1" href="page1.ejs"><i class="fa fa-facebook"></i> 278</a>
                                        <a class="color-2" href="page1.ejs"><i class="fa fa-twitter"></i> 180</a>
                                        <a class="color-3" href="page1.ejs"><i class="fa fa-pinterest-p"></i> 78</a>
                                        <a class="color-4" href="page1.ejs"><i class="fa fa-linkedin"></i> 53</a>
                                    </div>
                                <br/>
                              </div>  -->  
                                
                             
                        </div>
                                
                                <div class="col-lg-12">
                            
                            <h4 style="text-align:center; font-family: 'Josefin Slab', serif;">Add what you like by going into the song profile! </h4>
                            <br/>
                        </div> 
                     
                            
                                
                            <div class="row">

                                        <% anti_playlist.tracks.forEach(function(records, index){ %>
                                
                                    <div class="col-ml-12 col-xs-6 col-sm-4" id="track<%=index%>" style="height:448px !important;">
                                        
                                    <div class="be-post">
                                        
                                        <form method="post" action="/track/profile" id="trackprofile">
                                        <button class="be-img-block" form="trackprofile" type="submit" name="index"  value="<%=index%>"> 
                                        <% if(records.album.images[0] != undefined){ %>    
                                        <img src="<%=records.album.images[0].url%>" alt="omg">
                                        <% } else{ %>
                                          <img src="" alt="omg">      
                                        <%    } %>
                                        </button>   
                                        </form>
                                        
                                        <span class="be-post-title"><%= records.name %></span> 
                                        <a class="close" style="background-color:white; font-size:200%;" id="fadeOut<%=index%>">&times;</a>
                                        <span>
                                            Popularity: <%=records.popularity%> %
                                        </span>
                                        <div class="author-post">
                                            <span>by <%=records.artists[0].name%></span>
                                        </div>
                                        <div class="info-block">
                                        </div>
                                    </div>
                                  </div>
                                
                            <script src="/script/ajax.js"></script>
                                        
                                
                                <%})%>
                                
                                
                                
                                </div>
                            </div> 
                            
                            <div class="tab-info">
								<div class="row">
										<div class="col-md-12">
					
                     <h2 style="text-align: center; font-family: 'Josefin Slab', serif;">Music Data Analisis</h2>
                    
                        <br/>
                    
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Variables</th>
                                <td>My data</td>
                                <td>Data resulting from <a href="about-us.ejs">IDGN</a> algorithmic process</td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <th>Danceability</th>
                                <td><%=bailongo.toFixed(1)%>/100</td>
                                <td><%=bailongo2.toFixed(1)%>/100</td>
                            </tr>
                            <tr>
                                <th>Energy</th>
                                <td><%=energia.toFixed(1)%>/100</td>
                                <td><%=energia2.toFixed(1)%>/100</td>
                            </tr>
                            <tr>
                                <th>Key</th>
                                <% 
                                switch(Math.round(fundamental)) {
                                    case 0:
                                        fundamental = 'C';
                                        break;
                                    case 1:
                                        fundamental = 'C#/Db';
                                        break;
                                    case 2:
                                        fundamental = 'D';
                                        break;
                                    case 3:
                                        fundamental = 'D#/Eb';
                                        break;
                                    case 4:
                                        fundamental = 'E';
                                        break;
                                    case 5:
                                        fundamental = 'F';
                                        break;
                                    case 6:
                                        fundamental = 'F#/Gb';
                                        break;
                                    case 7:
                                        fundamental = 'G';
                                        break;
                                    case 8: 
                                        fundamental = 'G#/Ab';
                                        break;
                                    case 9: 
                                        fundamental = 'A';
                                        break;
                                    case 10: 
                                        fundamental = 'A#/Bb';
                                        break;
                                    case 11: 
                                        fundamental = 'B';
                                        break;
                                };
                                switch(Math.round(fundamental2)) {
                                    case 0:
                                        fundamental2 = 'C';
                                        break;
                                    case 1:
                                        fundamental2 = 'C#/Db';
                                        break;
                                    case 2:
                                        fundamental2 = 'D';
                                        break;
                                    case 3:
                                        fundamental2 = 'D#/Eb';
                                        break;
                                    case 4:
                                        fundamental2 = 'E';
                                        break;
                                    case 5:
                                        fundamental2 = 'F';
                                        break;
                                    case 6:
                                        fundamental2 = 'F#/Gb';
                                        break;
                                    case 7:
                                        fundamental2 = 'G';
                                        break;
                                    case 8: 
                                        fundamental2 = 'G#/Ab';
                                        break;
                                    case 9: 
                                        fundamental2 = 'A';
                                        break;
                                    case 10: 
                                        fundamental2 = 'A#/Bb';
                                        break;
                                    case 11: 
                                        fundamental2 = 'B';
                                        break;
                                } 
                                %>
                                <td><%=fundamental%></td>
                                <td><%= fundamental2 %></td>
                            </tr>
                            <tr>
                                <th>Loudness</th>
                                <td><%=amplitud.toFixed(1)%> dB</td>
                                <td><%= amplitud2.toFixed(1) %> dB </td>
                            </tr>
                            <tr>
                                <th>Mode</th>
                                <%
                                switch(Math.round(modo)){
                                    case 0:
                                        modo = 'Minor';
                                        break;
                                    case 1:
                                        modo = 'Major';
                                        break;
                                };
                                switch(Math.round(modo2)){
                                    case 0:
                                        modo2 = 'Minor';
                                        break;
                                    case 1:
                                        modo2 = 'Major';
                                        break;
                                };
                                %>
                                <td><%=modo%></td>
                                <td><%= modo2 %></td>
                            </tr>
                            <tr>
                                <th>Speechiness</th>
                                <td><%=dialogo.toFixed(1)%>/100</td>
                                <td><%=dialogo2.toFixed(1)%>/100</td>
                            </tr>
                            <tr>
                                <th>Acousticness</th>
                                <td><%=acustica.toFixed(1)%>/100</td>
                                <td><%=acustica2.toFixed(1)%>/100</td>
                            </tr>
                            <tr>
                                <th>Instrumentalness</th>
                                <td><%=instrumental.toFixed(1)%>/100</td>
                                <td><%=instrumental2.toFixed(1)%>/100</td>
                            </tr>
                            <tr>
                                <th>Liveness</th>
                                <td><%=audiencia.toFixed(1)%>/100</td>
                                <td><%=audiencia2.toFixed(1)%>/100</td>
                            </tr>
                            <tr>
                                <th>Valence</th>
                                <td><%=positivismo.toFixed(1)%>/100</td>
                                <td><%=positivismo2.toFixed(1)%>/100</td>
                            </tr>
                            <tr>
                                <th>Tempo</th>
                                <td><%=tempo.toFixed(1)%> BPM</td>
                                <td><%=tempo2.toFixed(1)%> BPM</td>
                            </tr>
                            <tr>
                                <th>Duration</th>
                                <td><%=duracion.toFixed(1)%> Minutes Average</td>
                                <td>
                                    <% if(duracion2 == 'min_'){ %>
                                        More than <%=duracion.toFixed(1)%> Minutes Average
                                    <% }else if(duracion2 == 'max_'){ %>
                                        Less than <%=duracion.toFixed(1)%> Minutes Average
                                    <% } %>
                                </td>
                            </tr>
                            <tr>
                                <th>Beats per bar</th>
                                <td><%=Math.round(firma_tiempo)%></td>
                                <td><%= Math.round(firma_tiempo2) %></td>
                            </tr>
                        </tbody>
                    </table>							
									</div>
								</div>
                            </div>
                            <div class="tab-info active">
								<div class="row">
                                    
								<div class="col-lg-12">
                                    <h2 style="font-family: 'Josefin Slab', serif;">Seed Tracks</h2>
                                    
                                   
                                    <h3 style="font-family: 'Josefin Slab', serif;">These seeds are the songs you listen the most.</h3>
                                    <h4 style="font-family: 'Josefin Slab', serif;">These songs are connected with a music universe with related features inside the Spotify Database. With these seeds as starting point, the algorithm becomes controled and searches for music within this universe.</h4>
                                    <br/>
                                    
                                </div>
                                  
                         <% seedTracks.forEach(function(records, index){ %>
                                    
                           <h4 style="font-family: 'Josefin Slab', serif;" ># <%=index + 1%></h4>  
                                   
                          <div class="be-largepost-iframe  
							embed-responsive embed-responsive-16by9 centro" style="text-align: center; width:inherit;" >
                                
                                
								 <iframe src="https://open.spotify.com/embed?uri=<%=records%>&theme=white&view=coverart" width="640" height="720" frameborder="0" allowtransparency="true" class="hidden-xs centro" style="text-align: center; " ></iframe>
                              
                                <iframe src="https://open.spotify.com/embed?uri=<%=records%>&theme=white&view=coverart" width="339" height="400" frameborder="0" allowtransparency="true" class="centro visible-xs centro" style="text-align: center;  margin-left:20px;" ></iframe>
                                
                              
							</div>	
                       
                                    
                        <% }) %>
                               
								</div>                                                                 
                            </div>
                        </div>
                    </div> 				
				</div>				
			</div>
            
		</div>
	</div>


	<div class="be-fixed-filter"></div>
	
	<div class="large-popup login">
		<div class="large-popup-fixed"></div>
		<div class="container large-popup-container">
			<div class="row">
				<div class="col-md-8 col-md-push-2 col-lg-6 col-lg-push-3  large-popup-content">
					<div class="row">
						<div class="col-md-12">
							<i class="fa fa-times close-button"></i>
							<h5 class="large-popup-title">Log in</h5>
						</div>
						<form action="./" class="popup-input-search">
						<div class="col-md-6">
							<input class="input-signtype" type="email" required="" placeholder="Your email">
						</div>
						<div class="col-md-6">
							<input class="input-signtype" type="password" required="" placeholder="Password">
						</div>
						<div class="col-xs-6">
							<div class="be-checkbox">
							<label class="check-box">
								    <input class="checkbox-input" type="checkbox"/> <span class="check-box-sign"></span>
								</label>
								<span class="large-popup-text">
									Stay signed in
								</span>
							</div>
							
							<a href="page1.ejs" class="link-large-popup">Forgot password?</a>
						</div>
						<div class="col-xs-6 for-signin">
							<input type="submit" class="be-popup-sign-button" value="SIGN IN">
						</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="large-popup register">
		<div class="large-popup-fixed"></div>
		<div class="container large-popup-container">
			<div class="row">
				<div class="col-md-10 col-md-push-1 col-lg-8 col-lg-push-2 large-popup-content">
					<div class="row">
						<div class="col-md-12">
							<i class="fa fa-times close-button"></i>
							<h5 class="large-popup-title">Register</h5>
						</div>
						<form action="./" class="popup-input-search">
						<div class="col-md-6">
							<input class="input-signtype" type="text" required="" placeholder="First Name">
						</div>
						<div class="col-md-6">
							<input class="input-signtype" type="text" required="" placeholder="Last Name">
						</div>
						<div class="col-md-6">
							<div class="be-custom-select-block">
							<select class="be-custom-select">
								<option value="" disabled selected>
									Country
								</option>
								<option value="">USA</option>
								<option value="">Canada</option>
								<option value="">England</option>
							</select>
							</div>
						</div>
						<div class="col-md-6">
							<input class="input-signtype" type="text" required="" placeholder="Email">
						</div>
						<div class="col-md-6">
							<input class="input-signtype" type="text" required="" placeholder="Password">
						</div>
						<div class="col-md-6">
							<input class="input-signtype" type="text" required="" placeholder="Repeat Password">
						</div>
						<div class="col-md-12 be-date-block">
							<span class="large-popup-text">
								Date of birth
							</span>
							<div class="be-custom-select-block mounth">
								<select class="be-custom-select">
									<option value="" disabled selected>
										Mounth
									</option>
									<option value="">January</option>	
									<option value="">February</option>	
									<option value="">March</option>	
									<option value="">April</option>	
									<option value="">May</option>	
									<option value="">June</option>	
									<option value="">July</option>	
									<option value="">August</option>	
									<option value="">September</option>	
									<option value="">October</option>	
									<option value="">November</option>	
									<option value="">December</option>
								</select>
							</div>
							<div class="be-custom-select-block">
								<select class="be-custom-select">
									<option value="" disabled selected>
										Day
									</option>
									<option value="">1</option>
									<option value="">2</option>
									<option value="">3</option>
									<option value="">4</option>
									<option value="">5</option>
									<option value="">6</option>
									<option value="">7</option>
									<option value="">8</option>
									<option value="">9</option>
									<option value="">10</option>
									<option value="">11</option>
									<option value="">12</option>
									<option value="">13</option>
									<option value="">14</option>
									<option value="">15</option>
									<option value="">16</option>
									<option value="">17</option>
									<option value="">18</option>
									<option value="">19</option>
									<option value="">20</option>
									<option value="">21</option>
									<option value="">22</option>
									<option value="">23</option>
									<option value="">24</option>
									<option value="">25</option>
									<option value="">26</option>
									<option value="">27</option>
									<option value="">28</option>
									<option value="">29</option>
									<option value="">30</option>
								</select>
							</div>
							<div class="be-custom-select-block">
								<select class="be-custom-select">
									<option value="" disabled selected>
										Year
									</option>
									<option value="">1996</option>
									<option value="">1997</option>
									<option value="">1998</option>
								</select>
							</div>
						</div>
						<div class="col-md-6">
							<div class="be-checkbox">
								<label class="check-box">
								    <input class="checkbox-input" type="checkbox" required="" value=""/> <span class="check-box-sign"></span>
								</label>
								<span class="large-popup-text">
									I have read and agree to the <a class="be-popup-terms" href="page1.ejs">Terms of Use</a> and <a class="be-popup-terms" href="page1.ejs">Privacy Policy</a>.
								</span>
							</div>
							<div class="be-checkbox">
								<label class="check-box">
								    <input class="checkbox-input" type="checkbox" value=""/> <span class="check-box-sign"></span>
								</label>
								<span class="large-popup-text">
									Send me notifications
								</span>
							</div>
						</div>
						<div class="col-md-6 for-signin">
							<input type="submit" class="be-popup-sign-button" value="SIGN IN">
						</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="theme-config">
	    <div class="main-color">
	        <div class="title">Main Color:</div>
	        <div class="colours-wrapper">
	            <div class="entry color1 m-color active" data-colour="style/stylesheet.css"></div>   
	            <div class="entry color3 m-color"  data-colour="style/style-green.css"></div>
	            <div class="entry color6 m-color"  data-colour="style/style-orange.css"></div>
	            <div class="entry color8 m-color"  data-colour="style/style-red.css"></div>  
	            <div class="title">Second Color:</div>  
	            <div class="entry s-color  active color10"  data-colour="style/stylesheet.css"></div>
	            <div class="entry s-color color11"  data-colour="style/style-oranges.css"></div> 
	            <div class="entry s-color color12"  data-colour="style/style-greens.css"></div>
	            <div class="entry s-color color13"  data-colour="style/style-reds.css"></div>
	                       
	        </div>
	    </div>
	   <div class="open"><img src="img/icon-134.png" alt=""></div>
	</div>
        
     
		 <% include ../partials/foot.ejs %>
	</body>
    
    
    
    
    <% if(mensaje == "nuevo_playlist"){ %>
        <div class="alert alert-dismissable fade in" id="floating_alert">
            <a href="#" class="close" data-dismiss="alert" aria-label="close" style="background-color:white; font-size:150%;">&times;</a>
            <strong>You created</strong> a new playlist.
        </div>
    <% }else if(mensaje == "nuevo_usuario"){ %>
        <div class="alert alert-dismissable fade in" id="floating_alert">
            <a href="#" class="close" data-dismiss="alert" aria-label="close"  style="background-color:white; font-size:150%;">&times;</a>
            <strong>Welcome</strong> to the community.
        </div>
    <% }else if(mensaje == "nuevo_login"){%>
        <div class="alert alert-dismissable fade in" id="floating_alert">
            <a href="#" class="close" data-dismiss="alert" aria-label="close"  style="background-color:white; font-size:150%;">&times;</a>
            <strong>We hope</strong> you find new great music!
        </div>
    <%}else if(mensaje == "error_save_track") {%>
         <div class="alert alert-dismissable fade in" id="floating_alert">
            <a href="#" class="close" data-dismiss="alert" aria-label="close"  style="background-color:white; font-size:150%;">&times;</a>
            <strong>Error</strong> saving the tracks to your library!
        </div>
    <%} %>
    
</html>
